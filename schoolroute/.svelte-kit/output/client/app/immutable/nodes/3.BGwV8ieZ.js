import"../chunks/DsnmJJEf.js";import{i as V}from"../chunks/BPwULdUY.js";import{p as W,o as X,l as Y,a as Z,f as p,g as t,b as l,c as I,d as o,m as u,s as h,h as C,i as s,u as f,t as b,j as N,k as M,n as P,v as $}from"../chunks/h7MUBmDw.js";import{i as Q}from"../chunks/CfDQ-aYo.js";import{e as R,b as tt,i as k}from"../chunks/DNQEJwGN.js";import{r as at,s as et}from"../chunks/DvPZ1a-0.js";import{l as rt,p as st}from"../chunks/DTRYEj25.js";var ot=p('<th class="text-[0.75rem]"> </th>'),lt=p('<td class="text-[0.75rem]"> </td>'),it=p("<tr></tr>"),vt=p("<th> </th>"),dt=p('<tr><td class="text-center text-gray-500 py-4">No routes found</td></tr>'),ct=p('<div class="card p-8 m-8 shadow-sm drop-shadow-3xl"><h1 class="font-semibold text-2xl pb-4">School Bus Services</h1> <div class="pb-6"><input type="text" placeholder="Search routes, schools, addresses..." class="input input-bordered w-full max-w-lg"/></div> <div class="overflow-x-auto"><table class="table table-xs"><thead><tr></tr></thead><tbody><!></tbody></table></div></div>');function bt(T,z){W(z,!1);const E=(a,e=$)=>{var r=it();R(r,5,()=>t(i),k,(n,d,J)=>{var D=M(),K=P(D);{var O=c=>{var v=ot(),S=o(v,!0);s(v),b(()=>N(S,(e(),t(d),f(()=>e()[t(d)])))),l(c,v)},U=c=>{var v=lt(),S=o(v,!0);s(v),b(()=>N(S,(e(),t(d),f(()=>e()[t(d)])))),l(c,v)};Q(K,c=>{J==0?c(O):c(U,!1)})}l(n,D)}),s(r),l(a,r)};let i=u([]),x=u([]),m=u("");X(async()=>{const a=await rt("/school_routes.csv");h(i,["RouteNumber","Description","School Name","StartTime","Address","Phone"]),h(x,st(a))});let _=u([]);Y(()=>(t(x),t(m),t(i)),()=>{h(_,t(x).filter(a=>{if(!t(m))return!0;const e=t(m).toLowerCase();return t(i).some(r=>(a[r]||"").toLowerCase().includes(e))}))}),Z(),V();var g=ct(),y=C(o(g),2),L=o(y);at(L),s(y);var j=C(y,2),q=o(j),w=o(q),A=o(w);R(A,5,()=>t(i),k,(a,e)=>{var r=vt(),n=o(r,!0);s(r),b(()=>N(n,t(e))),l(a,r)}),s(A),s(w);var B=C(w),F=o(B);{var G=a=>{var e=M(),r=P(e);R(r,1,()=>t(_),k,(n,d)=>{E(n,()=>t(d))}),l(a,e)},H=a=>{var e=dt(),r=o(e);s(e),b(()=>et(r,"colspan",(t(i),f(()=>t(i).length)))),l(a,e)};Q(F,a=>{t(_),f(()=>t(_).length>0)?a(G):a(H,!1)})}s(B),s(q),s(j),s(g),tt(L,()=>t(m),a=>h(m,a)),l(T,g),I()}export{bt as component};
